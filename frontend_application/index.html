<!-- <!DOCTYPE html>
<html>
<head>
    <title>Frontend App</title>
    <script>
        async function fetchData(endpoint) {
            const response = await fetch(`http://backendapp/${endpoint}`);
            // const response = await fetch("/test");
            const text = await response.text();
            document.getElementById("output").innerText = text;
        }
        // async function fetchmetric(endpoint) {
        //     // const response = await fetch(`http://backend.default.svc.cluster.local:8000/${endpoint}`);
        //     const response = await fetch("/metrics");
        //     const text = await response.text();
        //     document.getElementById("output").innerText = text;
        // }
    </script>
</head>
<body>
    <h1>Frontend Application</h1>
    <button onclick="fetchData('test')">Get Data</button>
    <button onclick="fetchData('metrics')">Get Metrics</button>
    <p id="output"></p>
</body>
</html> -->



<!DOCTYPE html>
<html>
<head>
    <title>Frontend App</title>
    <script>
        async function fetchData(endpoint) {
            try {
                const response = await fetch("http://backendapp/" + endpoint);
                if (!response.ok) throw new Error("HTTP error " + response.status);
                const text = await response.text();
                document.getElementById("output").innerText = text;
            } catch (error) {
                console.error("Fetch error:", error);
            }
        }

        async function fetchMetrics() {
            try {
                const response = await fetch("http://backendapp/metrics");
                if (!response.ok) throw new Error("HTTP error " + response.status);
                const text = await response.text();
                document.getElementById("output").innerText = text;
            } catch (error) {
                console.error("Fetch error:", error);
            }
        }
    </script>
</head>
<body>
    <h1>Frontend Application</h1>
    <button onclick="fetchData('test')">Get Data</button>
    <button onclick="fetchMetrics()">Get Metrics</button>
    <p id="output"></p>
</body>
</html>
